///////////////////////////////////////////////////////////////////////////////
//// ОБРАБОТЧИКИ СОБЫТИЙ

// Процедура - обработчик события "При изменении" поля ввода "ОбработкаОбслуживания".
//
// Параметры:
//  Элемент - <ПолеВвода>
//          - Поле ввода, с которым связано данное событие ("ОбработкаОбслуживания").
//
Процедура ОбработкаОбслуживанияПриИзменении(Элемент)

	ОбновитьСписокМоделей();

КонецПроцедуры // ОбработкаОбслуживанияПриИзменении()

// Процедура - обработчик события "При открытии" формы. Данное событие
// возникает при открытии формы, до показа окна пользователю.
//
// Параметры:
//  Нет.
//
Процедура ПриОткрытии()

	ОбновитьСписокМоделей();
	
	МеханизмНумерацииОбъектов.ДобавитьВМенюДействияКнопкуРедактированияКода(ЭлементыФормы.ДействияФормы.Кнопки.Подменю);
	МеханизмНумерацииОбъектов.УстановитьДоступностьПоляВводаНомера(Метаданные(), ЭтаФорма, ЭлементыФормы.ДействияФормы.Кнопки.Подменю,ЭлементыФормы.Код);	

КонецПроцедуры

///////////////////////////////////////////////////////////////////////////////
//// ПРОЦЕДУРЫ И ФУНКЦИИ

// Процедура осуществляет обновление списка моделей торгового оборудования
// в соответствии с текущей выбранной обработкой обслуживания.
//
// Параметры
//  Нет.
//
Процедура ОбновитьСписокМоделей()

	ЭлементыФормы.Модель.СписокВыбора.Очистить();

	Если ЗначениеЗаполнено(ОбработкаОбслуживания) Тогда
		ТекМодель = Неопределено;
		Для Каждого ТекМодель Из ОбработкаОбслуживания.Модели Цикл
			ЭлементыФормы.Модель.СписокВыбора.Добавить(ТекМодель.Модель);
		КонецЦикла;
	КонецЕсли;

	Если ЭлементыФормы.Модель.СписокВыбора.НайтиПоЗначению(Модель) = Неопределено Тогда
		Модель = "";
	КонецЕсли;

КонецПроцедуры // ОбновитьСписокМоделей()

// Процедура разрешения/запрещения редактирования номера документа
Процедура ДействияФормыРедактироватьКод(Кнопка)
	
	МеханизмНумерацииОбъектов.ИзменениеВозможностиРедактированияНомера(ЭтотОбъект.Метаданные(), ЭтаФорма, ЭлементыФормы.ДействияФормы.Кнопки.Подменю, ЭлементыФормы.Код);
			
КонецПроцедуры
                   
// Процедура вызывается принажатии кнопки в подменю "Советы" командной панели
// формы.
//
Процедура ДействияФормыОткрытьСоветы(Кнопка)
	
	РаботаСДиалогами.ОткрытьСоветы(Кнопка);
	
КонецПроцедуры //ДействияФормыОткрытьСоветы()

Процедура ПередОткрытием(Отказ, СтандартнаяОбработка)
	
	// Установка подменю "Советы".
	РаботаСДиалогами.УстановитьПодменюСоветы(ЭлементыФормы.ДействияФормы);

КонецПроцедуры

