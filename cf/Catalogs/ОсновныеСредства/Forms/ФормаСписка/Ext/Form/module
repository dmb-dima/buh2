////////////////////////////////////////////////////////////////////////////////
// ПРОЦЕДУРЫ - ДЕЙСТВИЯ КОМАНДНЫХ ПАНЕЛЕЙ ФОРМЫ

// Процедура вызывается при выборе пункта "Зарегистрированные оплаты основных 
// средств (УСН)" подменю "Перейти" командной панели формы. Процедура открывает 
// форму списка регистра  накопления "Зарегистрированные оплаты основных 
// средств (УСН).
//
Процедура ОткрытьЗарегистрированныеОплатыОсновныхСредствУСН(Кнопка)
	ОС = ЭлементыФормы.СправочникСписок.ТекущиеДанные.Ссылка;
	
	Если НЕ ЗначениеЗаполнено(ОС) Тогда
		
		ОС = Справочники.ОсновныеСредства.ПустаяСсылка();
		
	КонецЕсли;
	
	ФормаРегистра = РегистрыНакопления.ОплатыОСДляУСН.ПолучитьФормуСписка();
	ФормаРегистра.Отбор.ОсновноеСредство.Использование = Истина;
	ФормаРегистра.Отбор.ОсновноеСредство.Значение = ОС;
	ФормаРегистра.Открыть();
	
КонецПроцедуры

// Процедура вызывается при нажатии кнопки "Печать" командной панели формы,
// вызывает печать по умолчанию для формы документа.
//
Процедура ДействияФормыДействиеПечать(Кнопка)

	Если ЭлементыФормы.СправочникСписок.ТекущиеДанные = Неопределено тогда
		Возврат
	КонецЕсли;

	УниверсальныеМеханизмы.НапечататьДокументИзФормыСписка(ЭлементыФормы.СправочникСписок.ТекущиеДанные.Ссылка);
	
КонецПроцедуры

// Процедура вызывается при нажатии кнопки "Групповое добавление" командной 
// панели формы, вызывает форму группового добавления элементов справочника.
//
Процедура ДействияФормыГрупповоеДобавление(Кнопка)
		
	ФормаГрупповогоВвода = Справочники.ОсновныеСредства.ПолучитьФорму("ФормаГрупповогоДобавления", ЭтаФорма);
	ФормаГрупповогоВвода.Открыть();
	
КонецПроцедуры

Процедура ДействияФормыДействиеСвойства(Кнопка)
	
	РаботаСДиалогами.ОткрытьСвойстваИзСписка(ЭлементыФормы.СправочникСписок.ТекущаяСтрока, ЭтаФорма);
	
КонецПроцедуры

////////////////////////////////////////////////////////////////////////////////
// ПРОЦЕДУРЫ - ОБРАБОТЧИКИ СОБЫТИЙ РЕКВИЗИТОВ ФОРМЫ

Процедура ПриОткрытии()
	
	РаботаСДиалогами.ИзменитьПредставлениеКнопкиВыбораСвойств(ЭтаФорма, РаботаСДиалогами.ПолучитьОписаниеЗначенийСвойствОбъекта(ЭлементыФормы.СправочникСписок.ТекущаяСтрока));
	
КонецПроцедуры

Процедура ОбработкаОповещения(ИмяСобытия, Параметр, Источник)
	
	Если ИмяСобытия = "ОбновлениеЗначенийСвойств" И Источник = ЭлементыФормы.СправочникСписок.ТекущаяСтрока Тогда
		РаботаСДиалогами.ИзменитьПредставлениеКнопкиВыбораСвойств(ЭтаФорма, Параметр);
	КонецЕсли;
	
КонецПроцедуры

Процедура СправочникСписокПриАктивизацииСтроки(Элемент)
	
	РаботаСДиалогами.ИзменитьПредставлениеКнопкиВыбораСвойств(ЭтаФорма, РаботаСДиалогами.ПолучитьОписаниеЗначенийСвойствОбъекта(ЭлементыФормы.СправочникСписок.ТекущаяСтрока));
	
КонецПроцедуры