////////////////////////////////////////////////////////////////////////////////
// ПРОЦЕДУРЫ И ФУНКЦИИ ОБЩЕГО НАЗНАЧЕНИЯ

// Преобразовывает web-строку в обычную.
//
Функция ПодготовитьСтроку(Строка)
	
	Стр = Строка;
	
	Стр = СтрЗаменить(Стр, "%20", " ");
	Стр = СтрЗаменить(Стр, """", """""");
	
	Возврат Стр;
	
КонецФункции // ПодготовитьСтроку()

////////////////////////////////////////////////////////////////////////////////
// ОБРАБОТЧИКИ СОБЫТИЙ РЕКВИЗИТОВ ФОРМЫ

// Обработчик события "onclick" поля HTML документа.
// Обрабатывает нажатие мышью на ссылки.
//
Процедура ПолеHTMLДокументаonclick(Элемент, pEvtObj)
	
	Если pEvtObj.returnValue = Ложь Тогда
		Возврат;
	КонецЕсли;
	
	htmlElement = pEvtObj.srcElement;

	Пока htmlElement <> Неопределено И ВРег(htmlElement.tagName) <> "A" Цикл
		htmlElement = htmlElement.parentElement;
	КонецЦикла;

	Если htmlElement = Неопределено Тогда
		Возврат;
	КонецЕсли;
	
	Если htmlElement.protocol = "http:" Тогда
		
		ЗапуститьПриложение(ПодготовитьСтроку(htmlElement.href));
		
		pEvtObj.returnValue = Ложь;
		Возврат;
		
	КонецЕсли;
	
	Если htmlElement.protocol = "v8config:" Тогда
		
		Форма = ЭтотОбъект.ПолучитьФорму("Информация");
		Форма.ЭлементыФормы.ПолеHTMLДокумента.Перейти(ПодготовитьСтроку(htmlElement.href));
		Форма.Открыть();
		
		pEvtObj.returnValue = Ложь;
		Возврат;
		
	КонецЕсли;
	
КонецПроцедуры // ПолеHTMLДокументаonclick()
