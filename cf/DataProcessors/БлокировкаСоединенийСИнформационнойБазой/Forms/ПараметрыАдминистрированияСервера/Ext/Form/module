////////////////////////////////////////////////////////////////////////////////
// ВСПОМОГАТЕЛЬНЫЕ ПРОЦЕДУРЫ

Процедура УстановитьСостояниеЭлементов()

	ЭлементыФормы.ПанельКластерТребуетАвторизации.Доступность = КластерТребуетАвторизации;
	ЭлементыФормы.ПанельНестандартныеПорты.Доступность = НестандартныеПорты;

КонецПроцедуры

////////////////////////////////////////////////////////////////////////////////
// ПРОЦЕДУРЫ - ОБРАБОТЧИКИ СОБЫТИЙ ФОРМЫ

Процедура ПередОткрытием(Отказ, СтандартнаяОбработка)
	
	Отказ = НЕ ПравоДоступа("Администрирование", Метаданные);
	Если Отказ Тогда
		Предупреждение("Недостаточно прав доступа!");
	КонецЕсли;
	Отказ = Отказ ИЛИ ОпределитьЭтаИнформационнаяБазаФайловая();

КонецПроцедуры

Процедура ПриОткрытии()
	
	УстановитьСостояниеЭлементов();
	
КонецПроцедуры

////////////////////////////////////////////////////////////////////////////////
// ПРОЦЕДУРЫ - ОБРАБОТЧИКИ СОБЫТИЙ ЭЛЕМЕНТОВ ФОРМЫ

Процедура КнопкаВыполнитьНажатие(Кнопка)
	
	Если НЕ ПроверитьПараметрыАдминистрированияИБ() Тогда
		Возврат;
	КонецЕсли;	
	
	ПараметрыАдминистрированияИБ = СформироватьПараметрыАдминистрированияИБ();
	УправлениеСоединениямиИБ.ЗаписатьПараметрыАдминистрированияИБ(ПараметрыАдминистрированияИБ);
	
	Закрыть();
	
КонецПроцедуры

Процедура КластерТребуетАвторизацииПриИзменении(Элемент)
	
	УстановитьСостояниеЭлементов();
	
КонецПроцедуры


Процедура НестандартныеПортыПриИзменении(Элемент)
	
	УстановитьСостояниеЭлементов();
	
КонецПроцедуры
