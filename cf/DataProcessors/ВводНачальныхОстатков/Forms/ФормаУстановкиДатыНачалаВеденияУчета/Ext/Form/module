Процедура ПриОткрытии()
	
	ДатаНачалаВеденияУчета = ОбработкаОбъект.ДатаВводаОстатков;
	
КонецПроцедуры

Процедура КнопкаВыполнитьНажатие(Кнопка)
	
	Отказ = Ложь;
	
	ЗаписатьДанные(Отказ);
	
	Если НЕ Отказ Тогда
		Закрыть();
	КонецЕсли;
	
КонецПроцедуры

Процедура ЗаписатьДанные(Отказ = Ложь)
	
	ДанныеДляЗаписи = ДатаНачалаВеденияУчета;
	
	Если ДанныеДляЗаписи = '00010101' Тогда
		Отказ = Истина;
		Предупреждение("Укажите дату начала ведения учета в программе!");
		Возврат;
	КонецЕсли;
	
	Попытка
		
		ОбработкаОбъект.ДатаВводаОстатков = ДатаНачалаВеденияУчета;
		
	Исключение
		
		Предупреждение("Операция не может быть выполнена!");
		
		Отказ = Истина;
		
		Возврат;
		
	КонецПопытки;
	
	ДатаНачалаВеденияУчета = ОбработкаОбъект.ДатаВводаОстатков;
	
	Модифицированность = Ложь;
	
КонецПроцедуры // ЗаписатьДанные()


