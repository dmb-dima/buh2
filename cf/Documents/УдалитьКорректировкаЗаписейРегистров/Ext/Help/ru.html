<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta><link href="v8help://service_book/service_style" type="text/css" rel="stylesheet"></link><meta content="MSHTML 6.00.2800.1561" name="GENERATOR"></meta></head><body>
<h1 class="">Документ «Корректировка записей регистров»</h1>
<p class="Usual">Документ предназначен для ручной корректировки записей регистров накопления, сведений и для ввода остатков.</p>
<p class="Usual">По кнопке «<strong class="ControlElement">Настройка состава регистров»</strong> верхней командной панели формы открывается форма настройки состава регистров. Флажками отмечаются те регистры, записи по которым планируется ввести.</p>
<p class="Usual">На форме документа появляются закладки, соответствующие выбранным регистрам.</p>
<p class="Usual">В табличные поля на закладках вводятся необходимые данные.</p>
<p class="Usual"> </p>
<p class="Usual">Документ содержит сервис автоматического заполнения движений.</p>
<p class="Usual">Сервис подключается при установке флажка <strong>«Использовать заполнение движений»</strong> на закладке <strong>«Заполнение движений<font color="#000040">»</font></strong>. При этом становится видимой табличная часть <strong>«Заполнение движений<font color="#000040">»</font></strong>.</p>
<p class="Usual"> </p>
<p class="Usual">В документе в табличной части <strong>«Заполнение движений<font color="#000040">»</font></strong> указываются выполняемые действия, документы, на основании которых они выполняются и примечания.</p>
<p class="Usual"> </p>
<p class="Usual">Колонка <strong>«Действие<font color="#000040">»</font></strong> обязательно должна быть заполнена.</p>
<p class="Usual">Действия могут быть предопределенными (включенными в состав типового решения) и подключаемыми (внешними обработками).</p>
<p class="Usual">В состав предопределенных действий включены:</p>
<p class="Usual">- <strong>«Сторно движений документа<font color="#000040">»</font></strong> - создаются движения по регистрам накопления и регистрам бухгалтерии аналогичные движениям указанного документа, но с отрицательными значениями. Если сторнируемый документ имеет движения по регистрам сведений или регистрам расчета, эти движения будут проигнорированы.</p>
<p class="Usual"> </p>
<p class="Usual">Колонка <strong>«Документ<font color="#000040">»</font></strong> может быть не заполнена, если она не требуется для выполнения указанного действия.</p>
<p class="Usual"> </p>
<p class="Usual">При нажатии на кнопку <strong>«Заполнить движения<font color="#000040">»</font></strong> для каждой строки табличной части <strong>«Заполнение движений<font color="#000040">»</font></strong> выполняются указанные действия и, при необходимости, заполняются движения регистров накопления, регистров сведений и регистров бухгалтерии. Заполненные движения регистров отображаются на соответствующих закладках.</p>
<p class="Usual">После заполнения движения можно отредактировать или удалить.</p>
<p class="Usual"> </p>
<p class="Usual">При повторном нажатии на кнопку <strong>«Заполнить движения<font color="#000040">»</font></strong> задается вопрос об очистке уже существующих движений регистров. В случае положительного ответа созданные документы очищаются и в результате выполнения указанных действий их движения заполняются заново.</p>
<p class="Usual"> </p>
<p class="Usual"><strong>Подключение внешних обработок</strong></p>
<p class="Usual">Подключаемое действие представляет собой внешнюю обработку, которая подключается через справочник <strong>«Дополнительные внешние обработки по заполнению табличных частей<font color="#000040">»</font>.</strong></p>
<p class="Usual">В модуле обработки обязательно должна присутствовать экспортная процедура</p>
<p class="Usual">Инициализировать(ОбрабатываемыйДокумент, КорректировкаЗаписейРегистров, ДействиеНеВыполнено)  Экспорт  </p>
<p class="Usual">  где:</p>
<p class="Usual">  - ОбрабатываемыйДокумент - Ссылка на документ, на основании движений которого будут создаваться корректирующие движения;</p>
<p class="Usual">  - КорректировкаЗаписейРегистров - Документ-объект <strong>«Корректировка записей регистров<font color="#000040">»</font></strong>, в который необходимо добавлять корректирующие движения по регистрам накопления, регистрам сведений и регистрам бухгалтерии;</p>
<p class="Usual">  - ДействиеНеВыполнено - переменная, в которую следует установить «Истина<strong><font color="#000040">»</font></strong>, при возврате из действия до его завершения. Пользователю будет выдано сообщение с номером строки табличной части <strong>«Заполнение движений<font color="#000040">»</font></strong>, действие в которой не выполнено.</p>
<p class="Important">В табличной части <strong>«Заполнение движений<font color="#000040">»</font></strong> не обязательно указывать обрабатываемый документ (например, для алгоритмов, создающих движения регистров не на основании данных документов). Поэтому контроль заполнения обрабатываемого документа необходимо проводить непосредственно в модуле внешней обработки.</p>
<p class="Usual"><br></p></body></html>