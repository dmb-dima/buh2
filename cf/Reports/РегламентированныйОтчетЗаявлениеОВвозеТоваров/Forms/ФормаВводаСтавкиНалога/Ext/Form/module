
Процедура ОсновныеДействияФормыОК(Кнопка)
	
	Модифицированность = Ложь;
	
	СтруктураСтавокМодиф = Новый Структура;
	
	СтруктураСтавокМодиф.Вставить("Ст21", "");
	
	Если СтавкаНалогаНДС = 1 Тогда 
		СтруктураСтавокМодиф.Вставить("Ст18", Формат(СтавкаНДС, "ЧЦ=15; ЧДЦ=2; ЧН=; ЧГ=0"));
	Иначе
		СтруктураСтавокМодиф.Вставить("Ст18","Льгота");
	КонецЕсли;
	
	Если Твердые = 1 Тогда
		Если СтавкаНалогаАкциза = 1 Тогда
			СтруктураСтавокМодиф.Вставить("Ст16", Формат(СтавкаАкциз, "ЧЦ=15; ЧДЦ=2; ЧН=; ЧГ=0"));
			СтруктураСтавокМодиф.Вставить("Ст17", Формат(0, "ЧЦ=15; ЧДЦ=2; ЧН=; ЧГ=0"));
			СтруктураСтавокМодиф.Вставить("ПредставлениеПрочерк", Ложь);
		ИначеЕсли СтавкаНалогаАкциза = 2 Тогда
			СтруктураСтавокМодиф.Вставить("Ст16", "Льгота");
			СтруктураСтавокМодиф.Вставить("Ст17", Формат(0, "ЧЦ=15; ЧДЦ=2; ЧН=; ЧГ=0"));
			СтруктураСтавокМодиф.Вставить("ПредставлениеПрочерк", Ложь);
		Иначе 
			СтруктураСтавокМодиф.Вставить("Ст16", "-");
			СтруктураСтавокМодиф.Вставить("Ст17", "-");
			СтруктураСтавокМодиф.Вставить("ПредставлениеПрочерк", Истина);
			
			Если СтавкаНалогаАкциза = 4 Тогда
				СтруктураСтавокМодиф.Вставить("Ст21", " ");
			КонецЕсли;
			
		КонецЕсли;
	Иначе
		Если СтавкаНалогаАкциза = 1 Тогда
			СтруктураСтавокМодиф.Вставить("Ст17", Формат(СтавкаАкциз, "ЧЦ=15; ЧДЦ=2; ЧН=; ЧГ=0"));
			СтруктураСтавокМодиф.Вставить("Ст16", Формат(0, "ЧЦ=15; ЧДЦ=2; ЧН=; ЧГ=0"));
			СтруктураСтавокМодиф.Вставить("ПредставлениеПрочерк", Ложь);
		ИначеЕсли СтавкаНалогаАкциза = 2 Тогда
			СтруктураСтавокМодиф.Вставить("Ст17", "Льгота");
			СтруктураСтавокМодиф.Вставить("Ст16", Формат(0, "ЧЦ=15; ЧДЦ=2; ЧН=; ЧГ=0"));
			СтруктураСтавокМодиф.Вставить("ПредставлениеПрочерк", Ложь);
		Иначе 
			СтруктураСтавокМодиф.Вставить("Ст16", "-");
			СтруктураСтавокМодиф.Вставить("Ст17", "-");
			СтруктураСтавокМодиф.Вставить("ПредставлениеПрочерк", Истина);
			
			Если СтавкаНалогаАкциза = 4 Тогда
				СтруктураСтавокМодиф.Вставить("Ст21", " ");
			КонецЕсли;
			
		КонецЕсли;

	КонецЕсли;
	
	Закрыть(СтруктураСтавокМодиф); 	
	
КонецПроцедуры

Процедура ПередОткрытием(Отказ, СтандартнаяОбработка)
	
	СтавкаНалогаНДС    = СтруктураСтавок.Переключатель1;
	Твердые            = СтруктураСтавок.Переключатель2;
	СтавкаНалогаАкциза = СтруктураСтавок.Переключатель3;
	СтавкаНДС          = СтруктураСтавок.СтавкаНДС;
	СтавкаАкциз        = СтруктураСтавок.СтавкаАкциза;  
	
	УстановитьВидимость();
	
КонецПроцедуры

 Процедура УстановитьВидимость()
	 
	 Если СтавкаНалогаНДС <> 1 Тогда
		 ЭлементыФормы.СтавкаНДС.Значение = 0;
		 ЭлементыФормы.СтавкаНДС.Доступность = Ложь;
	 Иначе
		 ЭлементыФормы.СтавкаНДС.Доступность = Истина;
	 КонецЕсли;
	 
	 Если СтавкаНалогаАкциза <> 1 Тогда
		 ЭлементыФормы.СтавкаАкциз.Значение = 0;
		 ЭлементыФормы.СтавкаАкциз.Доступность = Ложь;
	 Иначе	 
		 ЭлементыФормы.СтавкаАкциз.Доступность = Истина;
	 КонецЕсли;
	 
 КонецПроцедуры

 Процедура СтавкаНалогаНДСПриИзменении(Элемент)
	УстановитьВидимость();
 КонецПроцедуры
