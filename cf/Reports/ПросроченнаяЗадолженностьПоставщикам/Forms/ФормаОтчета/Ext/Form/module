Процедура ПриОткрытии()
	
	Если Период = '00010101' Тогда
		Период = РабочаяДата;
	КонецЕсли;
	
	ТиповыеОтчеты.ОбновитьПараметрыПериодаПоФорме(КомпоновщикНастроек, ЭтаФорма);
	
	Дата2 = ?(Период <> НачалоМесяца(Период), НачалоМесяца(Период), ДобавитьМесяц(НачалоМесяца(Период), -1));
	Дата3 = ?(НачалоМесяца(Период) <> НачалоГода(Период), НачалоГода(Период), ДобавитьМесяц(НачалоГода(Период), -12));

КонецПроцедуры

Процедура ПередОткрытием(Отказ, СтандартнаяОбработка)
	
	Если Не СохранениеНастроек.ЗаполнитьНастройкиПриОткрытииОтчета(ОтчетОбъект) Тогда
		ИнициализацияОтчета();
	КонецЕсли;
	
КонецПроцедуры

Процедура ПриЗакрытии()
		
	СохранитьНастройку();
	
КонецПроцедуры

Процедура ДействияФормыОсновныеСформировать(Кнопка)
	
	ОбновитьОтчет();
	
КонецПроцедуры

Процедура ДействияФормыОсновныеПечать(Кнопка)
	
	ЭлементыФормы.Результат.Напечатать(Ложь);
	
КонецПроцедуры

Процедура ДействияФормыОсновныеСохранитьКак(Кнопка)
	
	ПредставлениеСохраняемогоФайла = ПолучитьТекстЗаголовка(Ложь);
	СтандартныеОтчеты.СохранитьКопиюРезультатаОтчета(ЭтотОбъект, ЭтаФорма, ПредставлениеСохраняемогоФайла);
	
КонецПроцедуры

Процедура ДействияФормыДополнительныеНастройки(Кнопка)
	
	ИнициализацияОтчета();

	Если ТиповыеОтчеты.РедактироватьНастройкиТиповогоОтчета(ОтчетОбъект, ЭтаФорма) Тогда
		ОбновитьОтчет();
	КонецЕсли;
	
КонецПроцедуры

Процедура ПолеВводаПериодПриИзменении(Элемент)
	
	Если Период = '00010101' Тогда
		Период = РабочаяДата;
	КонецЕсли;
	
	ТиповыеОтчеты.ОбновитьПараметрыПериодаПоФорме(КомпоновщикНастроек, ЭтаФорма);
	
	Дата2 = ?(Период <> НачалоМесяца(Период), НачалоМесяца(Период), ДобавитьМесяц(НачалоМесяца(Период), -1));
	Дата3 = ?(НачалоМесяца(Период) <> НачалоГода(Период), НачалоГода(Период), ДобавитьМесяц(НачалоГода(Период), -12));
	
КонецПроцедуры

Процедура НадписьУстановкаСрокаОплатыНажатие(Элемент)
	
	ФормаПараметровУчета = ПолучитьОбщуюФорму("НастройкаПараметровУчета");
	ФормаПараметровУчета.ЭлементыФормы.ПанельНастроек.ТекущаяСтраница = ФормаПараметровУчета.ЭлементыФормы.ПанельНастроек.Страницы.РасчетыСКонтрагентами;
	ФормаПараметровУчета.ТекущийЭлемент = ФормаПараметровУчета.ЭлементыФормы.СрокОплатыПоставщикам;
	ФормаПараметровУчета.Открыть();
	
КонецПроцедуры

Процедура СчетаУчетаРасчетовНажатие(Элемент)
	
	СтандартныеОтчеты.РедактироватьСписокСчетовИсключаемыхИзРасчетаЗадолженности(2);
	
КонецПроцедуры

Процедура ОбновитьОтчет() Экспорт
	
	СформироватьОтчет(ЭтаФорма.ЭлементыФормы.Результат, , Ложь);
	
КонецПроцедуры

Процедура ОбновлениеОтображения()
	
	Заголовок = ПолучитьТекстЗаголовка(Ложь);
	
КонецПроцедуры

Процедура РезультатПриАктивизацииОбласти(Элемент)
	
	СтандартныеОтчеты.РезультатПриАктивизацииОбласти(ЭтаФорма, Элемент);
	
КонецПроцедуры

