////////////////////////////////////////////////////////////////////////////////
// ОБРАБОТЧИКИ СОБЫТИЙ

Процедура ДействияФормыРедактироватьКод(Кнопка)
	МеханизмНумерацииОбъектов.ИзменениеВозможностиРедактированияНомера(Метаданные.ПланыВидовХарактеристик.СвойстваОбъектов, ЭлементыФормы.СписокСвойстваОбъектов, ЭлементыФормы.КоманднаяПанель.Кнопки.Подменю, ЭлементыФормы.СписокСвойстваОбъектов.Колонки.Код);
КонецПроцедуры

// Обработчик события ПриАктивизацииСтроки элемента СписокНазначенияСвойствКатегорийОбъектов.
//
Процедура СписокНазначенияСвойствКатегорийОбъектовПриАктивизацииСтроки(Элемент)

	СписокСвойстваОбъектов.Отбор.НазначениеСвойства.Установить(Элемент.ТекущаяСтрока);

КонецПроцедуры

// Обработчик события ПередНачаломДобавления элемента СписокСвойстваОбъектов.
//
Процедура СписокСвойстваОбъектовПередНачаломДобавления(Элемент, Отказ, Копирование, Родитель, ЭтоГруппа)

	НазначениеСвойства = СписокСвойстваОбъектов.Отбор.НазначениеСвойства.Значение;

	Если НЕ ЗначениеЗаполнено(НазначениеСвойства) ИЛИ НазначениеСвойства.ЭтоГруппа Тогда
		Предупреждение("Не выбрано назначение свойства!");

		Отказ = Истина;

	ИначеЕсли Элемент.СпособРедактирования = СпособРедактированияСписка.ВДиалоге Тогда
		Форма = ПланыВидовХарактеристик.СвойстваОбъектов.ПолучитьФормуНовогоЭлемента(, ЭтаФорма, "ПланыВидовХарактеристик.СвойстваОбъектов.ФормаНовогоЭлемента");
		Форма.НазначениеСвойства = НазначениеСвойства;
		Форма.Открыть();

		Отказ = Истина;
	КонецЕсли;

КонецПроцедуры

// Обработчик события ПриНачалеРедактирования элемента СписокСвойстваОбъектов.
//
Процедура СписокСвойстваОбъектовПриНачалеРедактирования(Элемент, НоваяСтрока)

	Если НоваяСтрока Тогда
		Элемент.ТекущиеДанные.НазначениеСвойства = СписокСвойстваОбъектов.Отбор.НазначениеСвойства.Значение;
	КонецЕсли;

КонецПроцедуры

////////////////////////////////////////////////////////////////////////////////
// ОБРАБОТЧИКИ СОБЫТИЙ ФОРМЫ

// Обработчик события ПриОткрытии Формы.
//
Процедура ПриОткрытии()

	МеханизмНумерацииОбъектов.ДобавитьВМенюДействияКнопкуРедактированияКода(ЭлементыФормы.КоманднаяПанель.Кнопки.Подменю);
	МеханизмНумерацииОбъектов.УстановитьДоступностьПоляВводаНомера(Метаданные.ПланыВидовХарактеристик.СвойстваОбъектов, ЭлементыФормы.СписокСвойстваОбъектов, ЭлементыФормы.КоманднаяПанель.Кнопки.Подменю, ЭлементыФормы.СписокСвойстваОбъектов.Колонки.Код);
КонецПроцедуры //ПриОткрытии

