
Процедура ПередЗаписью(Отказ, Замещение)
	
	// если были загружены правила, то изменять план обмена нельзя
	Если Количество() > 0 Тогда
		
		Если  ЗначениеЗаполнено(ЭтотОбъект[0].ИмяПланаОбменаИзПравил) // ранее были загружены правила для плана обмена
			И Отбор.ИмяПланаОбмена.Значение <> ЭтотОбъект[0].ИмяПланаОбменаИзПравил Тогда
			
			ТекстСообщения = НСтр("ru = 'Нельзя изменять план обмена после загрузки правил!'");
			ОбменДаннымиСервер.СообщитьОбОшибке(ТекстСообщения, Отказ);
			
		КонецЕсли;
		
	КонецЕсли;
	
КонецПроцедуры

Процедура ПриЗаписи(Отказ, Замещение)
	
	// кеш открытых сеансов для МРО стал неактуальным
	ОбменДаннымиСервер.УстановитьДатуОбновленияПовторноИспользуемыхЗначенийМРО();
	
КонецПроцедуры

