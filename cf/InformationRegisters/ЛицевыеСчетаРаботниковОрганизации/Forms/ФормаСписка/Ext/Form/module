
////////////////////////////////////////////////////////////////////////////////
// ОБРАБОТЧИКИ СОБЫТИЙ ФОРМЫ

// Процедура - обработчик события "ПриОткрытии" формы
//
Процедура ПриОткрытии()
	
	Если ВладелецФормы = Неопределено Тогда
	
		Отбор.Организация.Значение = глЗначениеПеременной("ОсновнаяОрганизация");
		Отбор.Организация.Использование = Не Отбор.Организация.Значение.Пустая();
	
	КонецЕсли; 
	
	Заголовок = "Лицевые счета работников организации " + Отбор.Организация.Значение;
		
	СтруктураКолонок = Новый Структура();

	// Установить колонки, видимостью которых пользователь управлять не может.
	СтруктураКолонок.Вставить("ФизЛицо");

	// Установить ограничение - изменять видимость колонок для табличной части 
	ОбработкаТабличныхЧастей.УстановитьИзменятьВидимостьКолонокТабЧасти(ЭлементыФормы.РегистрСведенийСписок.Колонки, СтруктураКолонок);
	
КонецПроцедуры

Процедура ПриПовторномОткрытии(СтандартнаяОбработка)
	
	Если ВладелецФормы = Неопределено Тогда
	
		Отбор.Организация.Значение = глЗначениеПеременной("ОсновнаяОрганизация");
		Отбор.Организация.Использование = Не Отбор.Организация.Значение.Пустая();
	
	КонецЕсли; 
	
	Заголовок = "Лицевые счета работников организации " + Отбор.Организация.Значение;
	
КонецПроцедуры

////////////////////////////////////////////////////////////////////////////////
// ПРОЦЕДУРЫ - ОБРАБОТЧИКИ СОБЫТИЙ ЭЛЕМЕНТОВ ФОРМЫ

// Процедура - обработчик события "ПриИзменении" поля ввода "Организация".
Процедура ОрганизацияПриИзменении(Элемент)

	Заголовок = "Лицевые счета работников организации " + Элемент.Значение.Наименование;
	Отбор.Организация.Использование = Не Элемент.Значение.Пустая();
	
КонецПроцедуры
