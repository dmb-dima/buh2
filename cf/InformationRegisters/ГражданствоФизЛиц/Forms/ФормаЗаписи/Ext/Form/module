////////////////////////////////////////////////////////////////////////////////
// ПЕРЕМЕННЫЕ МОДУЛЯ

// в переменной запоминаем страну которая задана до установки
// переключателя - Лицо без гражданства
Перем мСтрана;

////////////////////////////////////////////////////////////////////////////////
// ОБРАБОТЧИКИ СОБЫТИЙ ФОРМЫ

Процедура ПриОткрытии()
	
	Заголовок = "Гражданство физ. лица: " + ФизЛицо.Наименование;

	// установим переключатель в форме в соответствии с выбранным гражданством
	ЛицоБезГражданства = Страна = Справочники.КлассификаторСтранМира.ЛицоБезГражданства;
	ЭлементыФормы.ГражданинСтраны.ТолькоПросмотр = ЛицоБезГражданства;
	Если ЛицоБезГражданства Тогда
		ЭлементыФормы.ГражданинСтраны.Значение = Справочники.КлассификаторСтранМира.ПустаяСсылка();
	Иначе
		ЭлементыФормы.ГражданинСтраны.Значение = Страна;
	КонецЕсли;
	
КонецПроцедуры


////////////////////////////////////////////////////////////////////////////////
// ОБРАБОТЧИКИ СОБЫТИЙ ЭЛЕМЕНТОВ ФОРМЫ

Процедура ФизЛицоПриИзменении(Элемент)
	
	Заголовок = "Гражданство физ. лица: " + ФизЛицо.Наименование;
	
КонецПроцедуры

Процедура ПереключательГражданствоПриИзменении(Элемент)
	
	Если ЛицоБезГражданства Тогда
		мСтрана = ЭлементыФормы.ГражданинСтраны.Значение;
		Страна = Справочники.КлассификаторСтранМира.ЛицоБезГражданства;
		ЭлементыФормы.ГражданинСтраны.Значение = Справочники.КлассификаторСтранМира.ПустаяСсылка();
	Иначе
		Страна = мСтрана;
		ЭлементыФормы.ГражданинСтраны.Значение = Страна;
	КонецЕсли;
	
	ЭлементыФормы.ГражданинСтраны.ТолькоПросмотр = ЛицоБезГражданства;
	
КонецПроцедуры

Процедура ГражданинСтраныПриИзменении(Элемент)
	
	Страна = Элемент.Значение;
	
КонецПроцедуры


